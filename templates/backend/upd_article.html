{% extends 'backend/base.html' %}


{% block content %}

<link rel="stylesheet" href="/static/css/add_article.css">
<script charset="utf-8" src="/static/kindeditor/kindeditor-all-min.js"></script>


<form method="post">
    {% csrf_token %}
    <div class="alert-success text-center" style="margin-top: 20px;">添加文章</div>
    <div class="add_article_area">
        <div class="title form-group">
            <label for="">标题</label>
            <input name="title" type="text" class="article_title" value="{{title}}">
        </div>
        <div class="content form-group">
            <label for="">内容</label>
            <textarea name="content" id="article_content" cols="95" rows="40">{{content}}</textarea>
        </div>
    </div>

    <input type="submit" class="btn btn-default" value="提交" style="margin-top: 10px;">

</form>

<script>
    KindEditor.ready(function(K) {
            window.editor = K.create('#article_content', {
                uploadJson: "/upload/",
                extraFileUploadParams: {
                    "csrfmiddlewaretoken": $("[name='csrfmiddlewaretoken']").val(),
                },
                filePostName: "upload_img",
            });
    });
</script>

{% endblock %}